@page "/addnew"
@inject DeviceService DeviceService
@inject Microsoft.AspNetCore.Components.IUriHelper UriHelper

<DeviceForm Item="@NewDevice" OnClickOK="@OnClickOK"></DeviceForm>

@functions {
    Device NewDevice = new Device();

    async Task OnClickOK(Device newDevice)
    {
        await DeviceService.AddDeviceAsync(newDevice);
        UriHelper.NavigateTo("/");
    }
}
